{"ast":null,"code":"import firebaseconfig from \"./firebaseIndex\";\nimport firebase from \"firebase\";\nexport const authMethods = {\n  // firebase helper methods go here...\n  signup: (email, password, setErrors, setToken) => {\n    firebase.auth().createUserWithEmailAndPassword(email, password) //make res asynchonous so that we can make grab the token before saving it.\n    .then(async res => {\n      const token = await Object.entries(res.user)[5][1].b; //set token to localStorage\n\n      await localStorage.setItem(\"token\", token);\n      setToken(token); //grab token from local storage and set to state.\n\n      console.log(res);\n    }).catch(err => {\n      setErrors(prev => [...prev, err.message]);\n    });\n  },\n  signin: (email, password, setErrors, setToken) => {\n    //change from create users to...\n    firebase.auth().signInWithEmailAndPassword(email, password) //everything is almost exactly the same as the function above\n    .then(async res => {\n      const token = await Object.entries(res.user)[5][1].b; //set token to localStorage\n\n      await localStorage.setItem(\"token\", token);\n      setToken(window.localStorage.token);\n    }).catch(err => {\n      setErrors(prev => [...prev, err.message]);\n    });\n  },\n  //no need for email and password\n  signout: (setErrors, setToken) => {\n    // signOut is a no argument function\n    firebase.auth().signOut().then(res => {\n      //remove the token\n      localStorage.removeItem(\"token\"); //set the token back to original state\n\n      setToken(null);\n    }).catch(err => {\n      //there shouldn't every be an error from firebase but just in case\n      setErrors(prev => [...prev, err.message]); //whether firebase does the trick or not i want my user to do there thing.\n\n      localStorage.removeItem(\"token\");\n      setToken(null);\n      console.error(err.message);\n    });\n  }\n};","map":{"version":3,"sources":["/Users/deepugupta/Desktop/React-Applications/auth-form/src/firebase/authMethods.js"],"names":["firebaseconfig","firebase","authMethods","signup","email","password","setErrors","setToken","auth","createUserWithEmailAndPassword","then","res","token","Object","entries","user","b","localStorage","setItem","console","log","catch","err","prev","message","signin","signInWithEmailAndPassword","window","signout","signOut","removeItem","error"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,iBAA3B;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEA,OAAO,MAAMC,WAAW,GAAG;AACzB;AACAC,EAAAA,MAAM,EAAE,CAACC,KAAD,EAAQC,QAAR,EAAkBC,SAAlB,EAA6BC,QAA7B,KAA0C;AAChDN,IAAAA,QAAQ,CACLO,IADH,GAEGC,8BAFH,CAEkCL,KAFlC,EAEyCC,QAFzC,EAGE;AAHF,KAIGK,IAJH,CAIQ,MAAOC,GAAP,IAAe;AACnB,YAAMC,KAAK,GAAG,MAAMC,MAAM,CAACC,OAAP,CAAeH,GAAG,CAACI,IAAnB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+BC,CAAnD,CADmB,CAEnB;;AACA,YAAMC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,KAA9B,CAAN;AACAL,MAAAA,QAAQ,CAACK,KAAD,CAAR,CAJmB,CAKnB;;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACD,KAXH,EAYGU,KAZH,CAYUC,GAAD,IAAS;AACdhB,MAAAA,SAAS,CAAEiB,IAAD,IAAU,CAAC,GAAGA,IAAJ,EAAUD,GAAG,CAACE,OAAd,CAAX,CAAT;AACD,KAdH;AAeD,GAlBwB;AAmBzBC,EAAAA,MAAM,EAAE,CAACrB,KAAD,EAAQC,QAAR,EAAkBC,SAAlB,EAA6BC,QAA7B,KAA0C;AAChD;AACAN,IAAAA,QAAQ,CACLO,IADH,GAEGkB,0BAFH,CAE8BtB,KAF9B,EAEqCC,QAFrC,EAGE;AAHF,KAIGK,IAJH,CAIQ,MAAOC,GAAP,IAAe;AACnB,YAAMC,KAAK,GAAG,MAAMC,MAAM,CAACC,OAAP,CAAeH,GAAG,CAACI,IAAnB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+BC,CAAnD,CADmB,CAEnB;;AACA,YAAMC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,KAA9B,CAAN;AAEAL,MAAAA,QAAQ,CAACoB,MAAM,CAACV,YAAP,CAAoBL,KAArB,CAAR;AACD,KAVH,EAWGS,KAXH,CAWUC,GAAD,IAAS;AACdhB,MAAAA,SAAS,CAAEiB,IAAD,IAAU,CAAC,GAAGA,IAAJ,EAAUD,GAAG,CAACE,OAAd,CAAX,CAAT;AACD,KAbH;AAcD,GAnCwB;AAoCzB;AACAI,EAAAA,OAAO,EAAE,CAACtB,SAAD,EAAYC,QAAZ,KAAyB;AAChC;AACAN,IAAAA,QAAQ,CACLO,IADH,GAEGqB,OAFH,GAGGnB,IAHH,CAGSC,GAAD,IAAS;AACb;AACAM,MAAAA,YAAY,CAACa,UAAb,CAAwB,OAAxB,EAFa,CAGb;;AACAvB,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KARH,EASGc,KATH,CASUC,GAAD,IAAS;AACd;AACAhB,MAAAA,SAAS,CAAEiB,IAAD,IAAU,CAAC,GAAGA,IAAJ,EAAUD,GAAG,CAACE,OAAd,CAAX,CAAT,CAFc,CAGd;;AACAP,MAAAA,YAAY,CAACa,UAAb,CAAwB,OAAxB;AACAvB,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACAY,MAAAA,OAAO,CAACY,KAAR,CAAcT,GAAG,CAACE,OAAlB;AACD,KAhBH;AAiBD;AAxDwB,CAApB","sourcesContent":["import firebaseconfig from \"./firebaseIndex\";\nimport firebase from \"firebase\";\n\nexport const authMethods = {\n  // firebase helper methods go here...\n  signup: (email, password, setErrors, setToken) => {\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      //make res asynchonous so that we can make grab the token before saving it.\n      .then(async (res) => {\n        const token = await Object.entries(res.user)[5][1].b;\n        //set token to localStorage\n        await localStorage.setItem(\"token\", token);\n        setToken(token);\n        //grab token from local storage and set to state.\n        console.log(res);\n      })\n      .catch((err) => {\n        setErrors((prev) => [...prev, err.message]);\n      });\n  },\n  signin: (email, password, setErrors, setToken) => {\n    //change from create users to...\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      //everything is almost exactly the same as the function above\n      .then(async (res) => {\n        const token = await Object.entries(res.user)[5][1].b;\n        //set token to localStorage\n        await localStorage.setItem(\"token\", token);\n\n        setToken(window.localStorage.token);\n      })\n      .catch((err) => {\n        setErrors((prev) => [...prev, err.message]);\n      });\n  },\n  //no need for email and password\n  signout: (setErrors, setToken) => {\n    // signOut is a no argument function\n    firebase\n      .auth()\n      .signOut()\n      .then((res) => {\n        //remove the token\n        localStorage.removeItem(\"token\");\n        //set the token back to original state\n        setToken(null);\n      })\n      .catch((err) => {\n        //there shouldn't every be an error from firebase but just in case\n        setErrors((prev) => [...prev, err.message]);\n        //whether firebase does the trick or not i want my user to do there thing.\n        localStorage.removeItem(\"token\");\n        setToken(null);\n        console.error(err.message);\n      });\n  },\n};\n"]},"metadata":{},"sourceType":"module"}